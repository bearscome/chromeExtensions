const r=(()=>{let o="",t=[];function c(e){chrome.tabs.query({active:!0,currentWindow:!0},function(n){const l=new URL(n[0].url).hostname;(!o||o!=l)&&(o=l),e()})}function i(){let e=document.getElementById("noteList");if(e.innerHTML="",t)for(let n=0;n<t.length;n++){const a='<div style="display: flex"><p id="text">'+t[n]+'</p><button id="modify">수정</button><button id="delete">삭제</button></div>';let l=document.createElement("li");l.innerHTML=a.trim(),l.setAttribute("data-index",""+n),l.setAttribute("id","content"),e.append(l)}else{const n=document.createElement("<h2>");n.text="저장된 데이터가 없습니다.",e.append(n)}}function d(e){t=[],c(e)}function s(){this.init(function(){chrome.storage.local.get([o],e=>{var n,a;(a=(n=e[o])==null?void 0:n.memo)!=null&&a.length&&(t=e[o].memo.filter(l=>l)),i()})})}function m(e){console.log("delete Data = ",t[e]),t.splice(e,1),chrome.storage.local.set({[o]:{memo:t}},()=>{this.load()})}function u(e){if(e.trim().length===0){alert("내용을 작성해 주세요"),document.getElementById("note").value="";return}t.push(e),chrome.storage.local.set({[o]:{memo:t}},()=>{console.log("save memo data = ",t),document.getElementById("note").value="",this.load()})}function f(e,n){const a=window.prompt(`수정 내용을 작성해 주세요 
${t[e]}`);a===null&&alert("취소 되었습니다."),a.trim().length===0&&alert("수정 된 내용이 없습니다. (스페이스바만 있어요)"),t[e]=a,chrome.storage.local.set({[o]:{memo:t}},()=>{this.load()})}return{init:d,load:s,deleteData:m,saveData:u,modifyData:f}})();document.getElementById("noteList").addEventListener("click",o=>{var s;const t=o==null?void 0:o.target,c=t==null?void 0:t.id,i=t==null?void 0:t.closest("#content"),d=i.getAttribute("data-index")&&+i.getAttribute("data-index");switch(o.stopPropagation(),c){case"modify":const m=(s=t==null?void 0:t.closest("#text"))==null?void 0:s.value;r.modifyData(d,m);break;case"delete":r.deleteData(d);break;default:console.log("정의되지 않음");break}},!0);document.getElementById("addNote").addEventListener("click",o=>{var c;switch((c=o==null?void 0:o.target)==null?void 0:c.id){case"save":const i=document.getElementById("note");if(i){if(!i.value){alert("저장할 내용이 없습니다.");return}r.saveData(i.value)}break;default:console.log("정의되지 않음");break}});r.load();
